"use strict";var TicTacToe=function(){var e=$("#status"),r="",n="",a="",o=null,t=[1,2,3,4,5,6,7,8,9],s=[[1,2,3],[4,5,6],[7,8,9],[1,4,7],[2,5,8],[3,6,9],[1,5,9],[3,5,7]],c=function(){return{1:{rows:[0,3,6],marker:"-"},2:{rows:[0,4],marker:"-"},3:{rows:[0,5,7],marker:"-"},4:{rows:[1,3],marker:"-"},5:{rows:[1,4,6,7],marker:"-"},6:{rows:[1,5],marker:"-"},7:{rows:[2,3,7],marker:"-"},8:{rows:[2,4],marker:"-"},9:{rows:[2,5,6],marker:"-"}}},i={};return{cpuTurn:function(){var e=t[Math.floor(Math.random()*t.length)];this.markSpace(n,e)},checkRow:function(r){var a=s[r],t=i[a[0]].marker,c=i[a[1]].marker,l=i[a[2]].marker;if(console.log("Checking "+a),t===c&&t===l){t===n?e.text("You lose!"):e.text("You win!");for(var u=0;u<3;u++)$("#space-"+a[u]).find("span").css({color:"#ee6e73"});o=null}else console.log("Not yet...")},markSpace:function(r,n){console.log("> Marking space "+n+" with "+r),i[n].marker=r,$("#space-"+n).find("span").text(r),t.splice(t.indexOf(n),1);for(var a=i[n].rows,s=0,c=a.length;s<c;s++)this.checkRow(a[s]);"player"===o?(this.disableHover(),o="cpu",0===t.length?(e.text("NOBODY WINS."),o=null):(e.text("Thinking..."),this.cpuTurn())):"cpu"===o?0===t.length?(e.text("NOBODY WINS."),o=null):(this.enableHover(),o="player",e.text("Your turn.")):null===o&&this.disableHover()},enableHover:function(){for(var e=1;e<=9;e++)"-"===i[e].marker&&$("#space-"+e).addClass("space-hover")},disableHover:function(){for(var e=1;e<=9;e++)$("#space-"+e).removeClass("space-hover")},isLegalMove:function(e){return t.indexOf(e)!==-1},canMove:function(){return"player"===o},printCurrentBoard:function(){for(var e="",r=1;r<=9;r++)e+=i[r].marker,r%3===0&&(e+="\n");console.log(e)},newGame:function(s,l,u,f){i=new c,t=[1,2,3,4,5,6,7,8,9];for(var p=1;p<=9;p++)$("#space-"+p).find("span").text(""),$("#space-"+p).find("span").css({color:"#e0f2f1"});a=s,r=l,n=u,console.log("Starting new "+a+" game.\nPlayer:"+r+" CPU:"+n+"\n"+f+" goes first."),"player"===f&&(this.enableHover(),o="player",e.text("Your turn."))}}};$(document).ready(function(){var e=new TicTacToe,r="X";e.newGame("easy",r,"O","player"),$(".container").on("click",function(){var n=$(this).data("id");e.canMove()&&e.isLegalMove(n)&&e.markSpace(r,n)}),$("#player-first").on("click",function(){e.newGame("easy",r,"O","player")})});